
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The transmission loss (TL) along a duct liner &#8212; acdecom 20/06/12 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/logo.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to compute wavenumbers and cut-ons" href="plot_RienstraCutOns.html" />
    <link rel="prev" title="The noise scattering at a compressor inlet and outlet" href="plot_turbo.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plot_RienstraCutOns.html" title="How to compute wavenumbers and cut-ons"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plot_turbo.html" title="The noise scattering at a compressor inlet and outlet"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">acdecom 20/06/12 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The transmission loss (TL) along a duct liner</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-plot-liner-py"><span class="std std-ref">here</span></a>     to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="the-transmission-loss-tl-along-a-duct-liner">
<span id="sphx-glr-auto-examples-plot-liner-py"></span><h1>The transmission loss (TL) along a duct liner<a class="headerlink" href="#the-transmission-loss-tl-along-a-duct-liner" title="Permalink to this headline">¶</a></h1>
<p>In this example we compute the transmission-loss of a duct liner with grazing flow (M=0.25). The data used in this
example was part of <a class="reference external" href="https://arc.aiaa.org/doi/abs/10.2514/6.2020-2615">this study</a>,
which is referred to here for further details.</p>
<a class="reference internal image-reference" href="auto_examples\../../image/liner.png"><img alt="auto_examples\../../image/liner.png" src="auto_examples\../../image/liner.png" style="width: 800px;" /></a>
<div class="section" id="initialization">
<h2>1. Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h2>
<p>First, we import the packages needed for this example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">acdecom</span>
</pre></div>
</div>
<p>The liner is mounted along a duct with a rectangular cross section of the dimensions (0.02 m x 0.11 m).
The highest frequency of interest is 1000 Hz. The bulk Mach-number is 0.25 and the temperature is 295 Kelvin.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">section</span> <span class="o">=</span> <span class="s2">&quot;rectangular&quot;</span>
<span class="n">a</span> <span class="o">=</span> <span class="mf">0.02</span>  <span class="c1"># m</span>
<span class="n">b</span> <span class="o">=</span> <span class="mf">0.11</span>  <span class="c1"># m</span>
<span class="n">f_max</span> <span class="o">=</span> <span class="mi">1500</span>  <span class="c1"># Hz</span>
<span class="n">M</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="n">t</span> <span class="o">=</span> <span class="mi">295</span>  <span class="c1"># Kelvin</span>
</pre></div>
</div>
<p>Test-ducts were mounted to the downstream and upstream side of the liner. Those ducts were equipped with
three microphones, each. The first microphone on each side had a distance of 0.21 m to the liner.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">distance_upstream</span> <span class="o">=</span> <span class="mf">0.21</span>  <span class="c1"># m</span>
<span class="n">distance_downstream</span> <span class="o">=</span> <span class="mf">0.21</span>  <span class="c1"># m</span>
</pre></div>
</div>
<p>To analyze the measurement data, we create <a class="reference internal" href="../_autosummary/acdecom.WaveGuide.html#acdecom.WaveGuide" title="acdecom.WaveGuide"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaveGuide</span></code></a> objects for the upstream and the downstream test ducts.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">td_upstream</span> <span class="o">=</span> <span class="n">acdecom</span><span class="o">.</span><span class="n">WaveGuide</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">cross_section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">f_max</span><span class="o">=</span><span class="n">f_max</span><span class="p">,</span> <span class="n">damping</span><span class="o">=</span><span class="s2">&quot;stinson&quot;</span><span class="p">,</span>
                                <span class="n">distance</span><span class="o">=</span><span class="n">distance_upstream</span><span class="p">,</span> <span class="n">M</span><span class="o">=</span><span class="n">M</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">flip_flow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">td_downstream</span> <span class="o">=</span> <span class="n">acdecom</span><span class="o">.</span><span class="n">WaveGuide</span><span class="p">(</span><span class="n">dimensions</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">cross_section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span> <span class="n">f_max</span><span class="o">=</span><span class="n">f_max</span><span class="p">,</span> <span class="n">damping</span><span class="o">=</span><span class="s2">&quot;stinson&quot;</span><span class="p">,</span>
                                  <span class="n">distance</span><span class="o">=</span><span class="n">distance_downstream</span><span class="p">,</span> <span class="n">M</span><span class="o">=</span><span class="n">M</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The standard flow direction is in <span class="math notranslate nohighlight">\(P_+\)</span> direction. Therefore, on the inlet side, the Mach-number must be
either set negative or the argument <em>flipFlow</em> must be set to <em>True</em>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We use <a class="reference external" href="https://asa.scitation.org/doi/10.1121/1.400379">Stinson’s</a> model for acoustic dissipation along the pipe.
This is more accurate than the model by Kirchoff (which is commonly used). However, it is computationally more
expensive.</p>
</div>
</div>
<div class="section" id="sensor-positions">
<h2>2. Sensor Positions<a class="headerlink" href="#sensor-positions" title="Permalink to this headline">¶</a></h2>
<p>We define lists with microphone positions at the upstream and downstream side and assign them to the <em>WaveGuides</em>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z_downstream</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.055</span><span class="p">,</span> <span class="mf">0.248</span><span class="p">]</span> <span class="c1"># m</span>
<span class="n">x_downstream</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># deg</span>
<span class="n">y_downstream</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>   <span class="c1"># m</span>

<span class="n">z_upstream</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.249</span><span class="p">,</span> <span class="mf">0.059</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>    <span class="c1"># m</span>
<span class="n">x_upstream</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># deg</span>
<span class="n">y_upstream</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># m</span>

<span class="n">td_upstream</span><span class="o">.</span><span class="n">set_microphone_positions</span><span class="p">(</span><span class="n">z_upstream</span><span class="p">,</span> <span class="n">x_upstream</span><span class="p">,</span> <span class="n">y_upstream</span><span class="p">)</span>
<span class="n">td_downstream</span><span class="o">.</span><span class="n">set_microphone_positions</span><span class="p">(</span><span class="n">z_downstream</span><span class="p">,</span> <span class="n">x_downstream</span><span class="p">,</span> <span class="n">y_downstream</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="decomposition">
<h2>3. Decomposition<a class="headerlink" href="#decomposition" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Next, we read the measurement data. The measurement must be pre-processed in a format that is understood by the
<a class="reference internal" href="../_autosummary/acdecom.WaveGuide.html#acdecom.WaveGuide" title="acdecom.WaveGuide"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaveGuide</span></code></a> object. Generally, this is a numpy.ndarray, wherein the columns contain the measurement data,
such as the measured frequency and the pressures at the microphone locations. The rows can be different frequencies
or different sound excitations (cases). In this example, the measurement was post-processed into the
<a class="reference external" href="https://github.com/ssackMWL/acdecom/blob/master/examples/data/liner.txt">liner.txt</a> file and can
be loaded with the <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.loadtxt.html">numpy.loadtxt</a> function.</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pressure used for the decomposition must be pre-processed, fo example to account for microphone calibration if
necessary.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pressure</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&quot;data/liner.txt&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">complex</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>We examine the file’s header to understand how the data is stored in our input file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/liner.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">pressurefile</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pressurefile</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;# Mach-Number upstream&#39;, &#39;Mach-Number downstream&#39;, &#39;temperature upstream&#39;, &#39;temperature downstream&#39;, &#39;f&#39;, &#39;Mic1 US&#39;, &#39;Mic2 US&#39;, &#39;Mic3 US&#39;, &#39;Mic1 Liner&#39;, &#39;Mic2 Liner&#39;, &#39;Mic3 Liner&#39;, &#39;Mic4 Liner&#39;, &#39;Mic5 Liner&#39;, &#39;Mic6 Liner&#39;, &#39;Mic7 Liner&#39;, &#39;Mic8 Liner&#39;, &#39;Mic9 Liner&#39;, &#39;Mic10 Liner&#39;, &#39;Mic1 DS&#39;, &#39;Mic2 DS&#39;, &#39;Mic3 DS&#39;, &#39;case\n&#39;]
</pre></div>
</div>
<p>The upstream microphones (1, 2, and 3) are in columns 5, 6, and 7. The Downstream microphones
(3, 5, and 6) are in columns 8, 9, and 10. The case number is in the last column. All the other columns contain
information that we do not need in this example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">mics_ds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
<span class="n">mics_us</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="n">case</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Next, we decompose the sound fields into the propagating modes. We decompose the sound fields on the upstream
and downstream side of the duct, using the two <em>WaveGuide</em> objects defined earlier.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">decomp_us</span><span class="p">,</span> <span class="n">headers_us</span> <span class="o">=</span> <span class="n">td_upstream</span><span class="o">.</span><span class="n">decompose</span><span class="p">(</span><span class="n">pressure</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">mics_us</span><span class="p">,</span> <span class="n">case_col</span><span class="o">=</span><span class="n">case</span><span class="p">)</span>

<span class="n">decomp_ds</span><span class="p">,</span> <span class="n">headers_ds</span> <span class="o">=</span> <span class="n">td_downstream</span><span class="o">.</span><span class="n">decompose</span><span class="p">(</span><span class="n">pressure</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">mics_ds</span><span class="p">,</span> <span class="n">case_col</span><span class="o">=</span><span class="n">case</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The decomposition may show warnings for ill-conditioned modal matrices. This typically happens for frequencies close
to the cut-on of a mode. However, it can also indicate, that the microphone array is unable to separate the
modes. The condition number of the wave decomposition is stored in the data returned by
<a class="reference internal" href="../_autosummary/WaveGuide/acdecom.WaveGuide.decompose.html#acdecom.WaveGuide.decompose" title="acdecom.WaveGuide.decompose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">WaveGuide.decompose()</span></code></a> and should be checked in case a warning is triggered.</p>
</div>
</div>
<div class="section" id="further-post-processing">
<h2>4. Further Post-processing<a class="headerlink" href="#further-post-processing" title="Permalink to this headline">¶</a></h2>
<p>We can print the <em>headersDS</em> to see the names of the columns of the arrays that store the decomposed sound fields.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">headers_us</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;(0,0) plus Direction&#39;, &#39;(0,0) minus Direction&#39;, &#39;f&#39;, &#39;Mach_number&#39;, &#39;temperature&#39;, &#39;Ps&#39;, &#39;condition number&#39;, &#39;case&#39;]
</pre></div>
</div>
<p>We use that information to extract the modal data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">minusmodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># from headers_us</span>
<span class="n">plusmodes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Furthermore, we can get the unique decomposed frequency points.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">frequs</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">decomp_us</span><span class="p">[:,</span> <span class="n">headers_us</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;f&quot;</span><span class="p">)]))</span>
<span class="n">nof</span> <span class="o">=</span> <span class="n">frequs</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>For each of the frequencies, we can compute the scattering matrix by solving a linear system of equations
<span class="math notranslate nohighlight">\(S = p_+ p_-^{-1}\)</span>, where <span class="math notranslate nohighlight">\(S\)</span> is the scattering matrix and  <span class="math notranslate nohighlight">\(p_{\pm}\)</span> are matrices containing the
acoustic modes placed in rows and the different test cases placed in columns.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Details for the computation of the Scattering Matrix and the procedure to measure the different test-cases can be
found in <a class="reference external" href="https://www.ingentaconnect.com/content/dav/aaua/2016/00000102/00000005/art00008">this study</a>.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">S</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">nof</span><span class="p">),</span><span class="n">dtype</span> <span class="o">=</span> <span class="nb">complex</span><span class="p">)</span>

<span class="k">for</span> <span class="n">fIndx</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">frequs</span><span class="p">):</span>
    <span class="n">frequ_rows</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">decomp_us</span><span class="p">[:,</span> <span class="n">headers_us</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;f&quot;</span><span class="p">)]</span> <span class="o">==</span> <span class="n">f</span><span class="p">)</span>
    <span class="n">ppm_us</span> <span class="o">=</span> <span class="n">decomp_us</span><span class="p">[</span><span class="n">frequ_rows</span><span class="p">]</span>
    <span class="n">ppm_ds</span> <span class="o">=</span> <span class="n">decomp_ds</span><span class="p">[</span><span class="n">frequ_rows</span><span class="p">]</span>
    <span class="n">pp</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">ppm_us</span><span class="p">[:,</span><span class="n">plusmodes</span><span class="p">]</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">ppm_ds</span><span class="p">[:,</span><span class="n">plusmodes</span><span class="p">]</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
    <span class="n">pm</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">ppm_us</span><span class="p">[:,</span><span class="n">minusmodes</span><span class="p">]</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">ppm_ds</span><span class="p">[:,</span><span class="n">minusmodes</span><span class="p">]</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
    <span class="n">S</span><span class="p">[:,:,</span><span class="n">fIndx</span><span class="p">]</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">pp</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">pinv</span><span class="p">(</span><span class="n">pm</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="plot">
<h2>5. Plot<a class="headerlink" href="#plot" title="Permalink to this headline">¶</a></h2>
<p>We can plot the transmission and reflection coefficients at the upstream and downstream sides.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:]),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#67A3C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Reflection Upstream&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:]),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#67A3C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Transmission Upstream&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:]),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#D38D7B&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Reflection Downstream&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:]),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#D38D7B&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Transmission Downstream&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency [Hz]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Scattering Magnitude&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span><span class="mi">1600</span><span class="p">])</span>
<span class="c1">#plt.ylim([0,1.1])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="plot liner" class="sphx-glr-single-img" src="../_images/sphx_glr_plot_liner_001.png" />
<p>From the scattering matrix, we can compute the transmission loss and the power dissipation of the liner.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TLUpstream</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:]))</span>
<span class="n">TLDownstream</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:]))</span>

<span class="n">dissipation_us</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:])</span><span class="o">+</span><span class="n">numpy</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:])))</span>
<span class="n">dissipation_ds</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:])</span><span class="o">+</span><span class="n">numpy</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:])))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">TLUpstream</span><span class="p">),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#67A3C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Transmission Loss (US)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">dissipation_us</span><span class="p">),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#67A3C1&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Dissipation (US)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">TLDownstream</span><span class="p">),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#D38D7B&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Transmission Loss (DS)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">frequs</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">dissipation_ds</span><span class="p">),</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#D38D7B&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Dissipation (DS)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Frequency [Hz]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Liner Performance [dB]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">100</span><span class="p">,</span><span class="mi">1600</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="plot liner" class="sphx-glr-single-img" src="../_images/sphx_glr_plot_liner_002.png" />
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 2 minutes  42.646 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-liner-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/926104a17b2039da511aaf7951bfd689/plot_liner.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_liner.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/ccf77600d91dd9ef5cff9220c425d2d8/plot_liner.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_liner.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The transmission loss (TL) along a duct liner</a><ul>
<li><a class="reference internal" href="#initialization">1. Initialization</a></li>
<li><a class="reference internal" href="#sensor-positions">2. Sensor Positions</a></li>
<li><a class="reference internal" href="#decomposition">3. Decomposition</a></li>
<li><a class="reference internal" href="#further-post-processing">4. Further Post-processing</a></li>
<li><a class="reference internal" href="#plot">5. Plot</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="plot_turbo.html"
                        title="previous chapter">The noise scattering at a compressor inlet and outlet</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plot_RienstraCutOns.html"
                        title="next chapter">How to compute wavenumbers and cut-ons</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/auto_examples/plot_liner.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plot_RienstraCutOns.html" title="How to compute wavenumbers and cut-ons"
             >next</a> |</li>
        <li class="right" >
          <a href="plot_turbo.html" title="The noise scattering at a compressor inlet and outlet"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">acdecom 20/06/12 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The transmission loss (TL) along a duct liner</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Stefan Sack.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>